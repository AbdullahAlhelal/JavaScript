<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //Normal Map :

      const map = new Map();
      let user = { name: "Ahmed" };

      map.set(user, "data");
      user = null;

      // âŒ Object still exists in memory because Map keeps it

      //WeakMap:

      const weakMap = new WeakMap();
      let user1 = { name: "Ahmed" };

      weakMap.set(user1, "data");
      user1 = null;

      // âœ… Object is eligible for garbage collection

      //
      //      ğŸ”¹ WeakMap
      //ğŸ§¬ What Is a WeakMap?
      //A WeakMap is a collection where:

      //âœ” Keys must be objects
      //âœ” Values can be anything
      //âœ” Keys are weakly referenced
      //
      //âŒ No iteration
      //âŒ No size property

      const wm = new WeakMap();

      const userwm = { id: 1 };

      wm.set(userwm, { lastLogin: "today" });

      //ğŸ”¹ get(key)

      console.log(wm.get(userwm));

      //ğŸ”¹ has(key)

      console.log(wm.has(userwm));

      //ğŸ”¹ delete(key)

      wm.delete(user);
      //      ğŸ”¹ WeakSet
      //ğŸ§¬ What Is a WeakSet?
      //A WeakSet is like a Set, but:
      //
      //âœ” Stores objects only
      //âœ” Holds weak references
      //âœ” Used to track objects without preventing cleanup
      //
      //âŒ No iteration
      //âŒ No size
      //âŒ No primitives allowed
      //
      //ğŸ”¹ WeakSet Syntax
      const ws = new WeakSet();
      
    </script>
  </body>
</html>
